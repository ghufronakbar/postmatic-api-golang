{{ template "layout" . }} {{ define "content" }}
<div class="eyebrow">Invoice Pembayaran</div>

<div class="email-body">
  <h1>Pembayaran Berhasil! ðŸŽ‰</h1>
  <p>Halo <strong>{{ .Name }}</strong>,</p>
  <p>
    Terima kasih! Pembayaran Anda telah berhasil diproses. Berikut adalah
    invoice pembayaran Anda:
  </p>

  <!-- Invoice Header -->
  <div
    style="
      background: #f0fdf4;
      border: 1px solid #86efac;
      border-radius: 8px;
      padding: 16px;
      margin: 20px 0;
      text-align: center;
    "
  >
    <p style="margin: 0; font-size: 14px; color: #166534">
      PEMBAYARAN BERHASIL
    </p>
    <p style="margin: 8px 0 0 0; font-size: 12px; color: #15803d">
      {{ .PaidAt }}
    </p>
  </div>

  <!-- Invoice Details Table -->
  <table style="width: 100%; border-collapse: collapse; margin: 20px 0">
    <tr style="background: #0f172a">
      <td colspan="2" style="padding: 12px; color: #ffffff; font-weight: 600">
        Detail Pesanan
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; border: 1px solid #e2e8f0; font-weight: 600">
        Order ID
      </td>
      <td style="padding: 12px; border: 1px solid #e2e8f0">{{ .OrderID }}</td>
    </tr>
    <tr style="background: #f8fafc">
      <td style="padding: 12px; border: 1px solid #e2e8f0; font-weight: 600">
        Produk
      </td>
      <td style="padding: 12px; border: 1px solid #e2e8f0">
        {{ .ProductName }}
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; border: 1px solid #e2e8f0; font-weight: 600">
        Metode Pembayaran
      </td>
      <td style="padding: 12px; border: 1px solid #e2e8f0">
        {{ .PaymentMethod }}
      </td>
    </tr>
  </table>

  <!-- Calculation Breakdown -->
  <table style="width: 100%; border-collapse: collapse; margin: 20px 0">
    <tr style="background: #0f172a">
      <td colspan="2" style="padding: 12px; color: #ffffff; font-weight: 600">
        Rincian Pembayaran
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; border: 1px solid #e2e8f0">Harga Item</td>
      <td style="padding: 12px; border: 1px solid #e2e8f0; text-align: right">
        {{ .ItemPrice }}
      </td>
    </tr>
    {{ if ne .DiscountAmount "Rp 0" }}
    <tr style="background: #fef2f2">
      <td style="padding: 12px; border: 1px solid #e2e8f0; color: #dc2626">
        Diskon
      </td>
      <td
        style="
          padding: 12px;
          border: 1px solid #e2e8f0;
          text-align: right;
          color: #dc2626;
        "
      >
        -{{ .DiscountAmount }}
      </td>
    </tr>
    {{ end }}
    <tr style="background: #f8fafc">
      <td style="padding: 12px; border: 1px solid #e2e8f0">Biaya Admin</td>
      <td style="padding: 12px; border: 1px solid #e2e8f0; text-align: right">
        {{ .AdminFeeAmount }}
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; border: 1px solid #e2e8f0">Pajak (PPN)</td>
      <td style="padding: 12px; border: 1px solid #e2e8f0; text-align: right">
        {{ .TaxAmount }}
      </td>
    </tr>
    <tr style="background: #0f172a">
      <td
        style="padding: 12px; color: #ffffff; font-weight: 700; font-size: 16px"
      >
        TOTAL BAYAR
      </td>
      <td
        style="
          padding: 12px;
          color: #ffffff;
          text-align: right;
          font-weight: 700;
          font-size: 18px;
        "
      >
        {{ .TotalAmount }}
      </td>
    </tr>
  </table>

  <div class="divider"></div>
  <p class="muted">
    Token telah ditambahkan ke akun Anda dan siap digunakan. Simpan email ini
    sebagai bukti pembayaran.
  </p>
  <p class="muted">
    Jika ada pertanyaan mengenai transaksi ini, silakan hubungi tim support
    kami.
  </p>
</div>
{{ end }}
